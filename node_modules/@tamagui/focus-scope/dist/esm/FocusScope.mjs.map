{"version":3,"names":["useComposedRefs","useEvent","startTransition","React","Fragment","jsx","AUTOFOCUS_ON_MOUNT","AUTOFOCUS_ON_UNMOUNT","EVENT_OPTIONS","bubbles","cancelable","FocusScope","forwardRef","props","forwardedRef","childProps","useFocusScope","children","cloneElement","Children","only","loop","enabled","trapped","onMountAutoFocus","onMountAutoFocusProp","onUnmountAutoFocus","onUnmountAutoFocusProp","forceUnmount","scopeProps","container","setContainer","useState","lastFocusedElementRef","useRef","setContainerTransition","useCallback","node","composedRefs","focusScope","paused","pause","resume","current","useEffect","controller","AbortController","handleFocusIn","event","target","contains","addEventListener","handleBlur","signal","focus","select","handleFocusOut","abort","relatedTarget","document","removeEventListener","focusScopesStack","add","previouslyFocusedElement","activeElement","mountEvent","CustomEvent","dispatchEvent","defaultPrevented","candidates","removeLinks","getTabbableCandidates","focusFirst","unmountEvent","body","remove","handleKeyDown","isTabKey","key","altKey","ctrlKey","metaKey","focusedElement","container2","currentTarget","first","last","getTabbableEdges","shiftKey","preventDefault","tabIndex","ref","onKeyDown","candidate","findVisible","reverse","nodes","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT","acceptNode","isHiddenInput","tagName","type","disabled","hidden","FILTER_SKIP","FILTER_ACCEPT","nextNode","push","currentNode","elements","element","isHidden","upTo","getComputedStyle","visibility","display","parentElement","isSelectableInput","HTMLInputElement","preventScroll","createFocusScopesStack","stack","activeFocusScope","arrayRemove","unshift","array","item","updatedArray","index","indexOf","splice","items","filter"],"sources":["../../src/FocusScope.tsx"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}