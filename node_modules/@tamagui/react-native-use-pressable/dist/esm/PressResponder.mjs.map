{"version":3,"names":["DELAY","ERROR","LONG_PRESS_DETECTED","NOT_RESPONDER","RESPONDER_ACTIVE_LONG_PRESS_START","RESPONDER_ACTIVE_PRESS_START","RESPONDER_INACTIVE_PRESS_START","RESPONDER_GRANT","RESPONDER_RELEASE","RESPONDER_TERMINATED","Transitions","Object","freeze","isActiveSignal","signal","isButtonRole","element","getAttribute","isPressStartSignal","isTerminalSignal","isValidKeyPress","event","key","role","target","DEFAULT_LONG_PRESS_DELAY_MS","DEFAULT_PRESS_DELAY_MS","PressResponder","_touchActivatePosition","_pressDelayTimeout","_selectionTerminated","_isPointerTouch","_longPressDelayTimeout","_longPressDispatched","_pressOutDelayTimeout","_touchState","_config","_eventHandlers","constructor","config","configure","reset","_cancelLongPressDelayTimeout","_cancelPressDelayTimeout","_cancelPressOutDelayTimeout","getEventHandlers","_createEventHandlers","start","shouldDelay","persist","nativeEvent","type","_receiveSignal","delayPressStart","normalizeDelay","setTimeout","delayLongPress","_handleLongPress","end","keyupHandler","onPress","document","removeEventListener","elementType","tagName","toLowerCase","isNativeInteractiveElement","onStartShouldSetResponder","disabled","currentTarget","stopPropagation","onKeyDown","addEventListener","preventDefault","onResponderGrant","onResponderMove","onPressMove","touch","getTouchFromResponderEvent","deltaX","pageX","deltaY","pageY","Math","hypot","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","_this$_config","cancelable","onLongPress","onClick","_this$_config2","altKey","onContextMenu","_this$_config3","defaultPrevented","prevState","nextState","console","error","_performTransitionSideEffects","isPrevActive","isNextActive","_activate","_deactivate","_this$_config4","_onLongPress","_this$_config5","onPressChange","onPressStart","_this$_config6","onPressEnd","delayPressEnd","clearTimeout","delay","min","fallback","max","_event$nativeEvent","changedTouches","touches","length"],"sources":["../../src/PressResponder.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}