{"version":3,"names":["createResponderEvent","ResponderTouchHistoryStore","isCancelish","isEndish","isMoveish","isScroll","isSelectionChange","isStartish","canUseDOM","getLowestCommonAncestor","getResponderPaths","hasTargetTouches","hasValidSelection","isPrimaryPointerDown","setResponderId","emptyObject","startRegistration","bubbles","moveRegistration","scrollRegistration","shouldSetResponderEvents","touchstart","mousedown","touchmove","mousemove","scroll","emptyResponder","id","idPath","node","responderListenersMap","Map","isEmulatingMouseEvents","trackedTouchCount","currentResponder","responderTouchHistoryStore","changeCurrentResponder","responder","getResponderConfig","config","get","eventListener","domEvent","eventType","type","eventTarget","target","isStartEvent","isMoveEvent","isEndEvent","isScrollEvent","isSelectionChangeEvent","responderEvent","touches","length","recordTouchTrack","nativeEvent","eventPaths","wasNegotiated","wantsResponder","currentResponderIdPath","eventIdPath","lowestCommonAncestor","index","indexOf","slice","nodePath","findWantsResponder","attemptTransfer","onResponderStart","onResponderMove","onResponderEnd","onResponderRelease","onResponderTerminate","onResponderTerminationRequest","cancelable","currentTarget","dispatchConfig","registrationName","isTerminateEvent","window","contains","relatedTarget","isReleaseEvent","shouldTerminate","shouldSetCallbacks","shouldSetCallbackCaptureName","shouldSetCallbackBubbleName","check","callbackName","shouldSetCallback","prunedIdPath","i","result","isPropagationStopped","currentId","currentNode","onResponderGrant","onResponderReject","allowTransfer","documentEventsCapturePhase","documentEventsBubblePhase","isTamaguiResponderActive","Symbol","attachListeners","addEventListener","forEach","document","addNode","set","removeNode","terminateResponder","has","delete","event","getResponderNode"],"sources":["../../src/ResponderSystem.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}